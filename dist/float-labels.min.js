/*!
 * Float Labels
 * @version: 3.3.5
 * @author: Paul Ryley (http://geminilabs.io)
 * @url: https://geminilabs.github.io/float-labels.js
 * @license: MIT
 */
!function(t,n,i){"use strict";var s=function(t,i){this.el=this.isString(t)?n.querySelectorAll(t):[t],this.config=[],this.options=i,this.selectors=[],this.init(),this.destroy=function(){this.loop(function(t){t.removeEventListener("reset",this.events.reset),this.removeClasses(t)},function(t){this.reset(t)})},this.rebuild=function(){this.loop(null,function(t){this.floatLabel(t,!0)})}};s.prototype={defaults:{customEvent:null,customLabel:null,customPlaceholder:null,exclude:".no-label",inputRegex:/email|number|password|search|tel|text|url/,prefix:"fl-",prioritize:"label",requiredClass:"required",style:0,transform:"input,select,textarea"},init:function(){this.initEvents(),this.loop(function(t,i){var s=this.config[i].style;t.addEventListener("reset",this.events.reset),t.classList.add(this.prefixed("form")),s&&t.classList.add(this.prefixed("style-"+s))},function(t){this.floatLabel(t)})},initEvents:function(){this.events={blur:this.onBlur.bind(this),change:this.onInput.bind(this),focus:this.onFocus.bind(this),input:this.onInput.bind(this),reset:this.onReset.bind(this)}},addRemove:function(t){return t?"add":"remove"},build:function(t){var i=this.getLabel(t);i&&(t.classList.add(this.prefixed(t.tagName.toLowerCase())),this.setLabel(i,t),this.setPlaceholder(i,t),this.wrapLabel(i,t),this.handleEvents(t,"add"),"function"==typeof this.config[this.current].customEvent&&this.config[this.current].customEvent.call(this,t))},createEl:function(t,i){var s="string"==typeof t?n.createElement(t):t;for(var e in i=i||{})i.hasOwnProperty(e)&&s.setAttribute(e,i[e]);return s},extend:function(){var t=[].slice.call(arguments),s=t[0],e=t.slice(1);return Object.keys(e).forEach(function(t){for(var i in e[t])e[t].hasOwnProperty(i)&&(s[i]=e[t][i])}),s},floatLabel:function(t,i){if(this.isValidField(t)){if(this.hasParent(t)){if(!0!==i)return;this.reset(t)}this.build(t)}},getLabel:function(t){var i='label[for="'+t.getAttribute("id")+'"]',s=this.el[this.current].querySelectorAll(i);return 1<s.length&&(s=t.parentNode.querySelectorAll(i)),1===s.length&&s[0]},getLabelText:function(t,i){var s=t.textContent.replace(/[*:]/g,"").trim(),e=i.getAttribute("placeholder");return(!s||s&&e&&"placeholder"===this.config[this.current].prioritize)&&(s=e),s},handleEvents:function(i,s){var e=this.events,n="SELECT"===i.nodeName&&this.isMSBrowser();["blur","input","focus"].forEach(function(t){"input"!==t||"file"!==i.type&&!n||(t="change"),i[s+"EventListener"](t,e[t])})},hasParent:function(t){return t.parentNode.classList.contains(this.prefixed("wrap"))},isMSBrowser:function(){return!!navigator.userAgent.match(/Edge|MSIE|Trident/g)},isString:function(t){return"[object String]"===Object.prototype.toString.call(t)},isValidField:function(t){var i="INPUT"===t.tagName&&!this.config[this.current].inputRegex.test(t.getAttribute("type")),s="SELECT"===t.tagName&&null!==t.getAttribute("multiple");return t.getAttribute("id")&&!i&&!s},loop:function(t,i){for(var s=0;s<this.el.length;++s){if(void 0===this.selectors[s]){var e=this.extend({},this.defaults,this.options,this.el[s].getAttribute("data-options")),n=":not("+e.exclude.split(/[\s,]+/).join("):not(")+")";this.selectors[s]=e.transform.replace(/,/g,n+",")+n,this.config[s]=e}var h=this.el[s].querySelectorAll(this.selectors[s]);this.current=s,"function"==typeof t&&t.call(this,this.el[s],s);for(var r=0;r<h.length;++r)"function"==typeof i&&i.call(this,h[r],s)}},onBlur:function(t){t.target.parentNode.classList.remove(this.prefixed("has-focus"))},onInput:function(t){t.target.parentNode.classList[this.addRemove(t.target.value.length)](this.prefixed("is-active"))},onFocus:function(t){t.target.parentNode.classList.add(this.prefixed("has-focus"))},onReset:function(){setTimeout(this.resetFields.bind(this))},prefixed:function(t){return this.config[this.current].prefix+t},removeClasses:function(t){var i=this.config[this.current].prefix,s=t.className.split(" ").filter(function(t){return 0!==t.lastIndexOf(i,0)});t.className=s.join(" ").trim()},reset:function(t){var i=t.parentNode;if(this.hasParent(t)){for(var s=n.createDocumentFragment();i.firstElementChild;){var e=i.firstElementChild;this.removeClasses(e),s.appendChild(e)}i.parentNode.replaceChild(s,i),this.resetPlaceholder(t),this.handleEvents(t,"remove")}},resetFields:function(){for(var t=this.el[this.current].querySelectorAll(this.selectors[this.current]),i=0;i<t.length;++i)t[i].parentNode.classList[this.addRemove("SELECT"===t[i].tagName&&""!==t[i].value)](this.prefixed("is-active"))},resetPlaceholder:function(t){var i="data-placeholder",s=t.getAttribute(i);null!==s&&(t.removeAttribute(i),t.setAttribute("placeholder",s))},setLabel:function(t,i){t.classList.add(this.prefixed("label")),t.textContent=this.getLabelText(t,i),"function"==typeof this.config[this.current].customLabel&&(t.textContent=this.config[this.current].customLabel.call(this,t,i))},setPlaceholder:function(t,i){var s=i.getAttribute("placeholder");"label"!==this.config[this.current].prioritize&&s||(s&&i.setAttribute("data-placeholder",s),s=this.getLabelText(t,i)),"function"==typeof this.config[this.current].customPlaceholder&&(s=this.config[this.current].customPlaceholder.call(this,s,i,t)),"SELECT"===i.tagName?this.setSelectPlaceholder(i,s):i.setAttribute("placeholder",s)},setSelectPlaceholder:function(t,i){var s=t.firstElementChild;if(s.hasAttribute("value")&&s.value){var e=!0!==t.options[Math.max(0,t.selectedIndex)].defaultSelected;t.insertBefore(new Option(i,"",e,e),s)}else s.setAttribute("value","");""===s.textContent&&(s.textContent=i)},wrapLabel:function(t,i){var s=this.createEl("div",{class:this.prefixed("wrap")+" "+this.prefixed("wrap-"+i.tagName.toLowerCase())});void 0!==i.value&&i.value.length&&s.classList.add(this.prefixed("is-active")),(null!==i.getAttribute("required")||i.classList.contains(this.config[this.current].requiredClass))&&s.classList.add(this.prefixed("is-required")),i.parentNode.insertBefore(s,i),s.appendChild(t),s.appendChild(i)}},"function"==typeof define&&define.amd?define([],function(){return s}):"object"==typeof module&&module.exports?module.exports=s:t.FloatLabels=s}(window,document);