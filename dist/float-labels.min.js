/*!
 * Float Labels
 *
 * Version: 3.0.0
 * Author: Paul Ryley (http://geminilabs.io)
 * URL: https://github.com/geminilabs/float-labels.js
 * License: MIT
 */
!function(t,e,i){"use strict";var s=function(t,i){this.el=this.isString(t)?e.querySelectorAll(t):t,NodeList.prototype.isPrototypeOf(this.el)&&(this.options=i,this.config=[],this.fields=[],this.init(),this.rebuild=function(){for(var t=0;t<this.el.length;++t){this.current=t;for(var e=0;e<this.fields[t].length;++e)this.floatLabel(this.fields[t][e],!0)}},this.destroy=function(){for(var t=0;t<this.el.length;++t){this.current=t,this.el[t].removeEventListener("reset",this.events.reset),this.removeClasses(this.el[t]);for(var e=0;e<this.fields[t].length;++e)this.reset(this.fields[t][e])}})};s.prototype={defaults:{customEvent:null,customLabel:null,exclude:".no-label",inputRegex:/email|number|password|search|tel|text|url/,prefix:"fl-",prioritize:"label",requiredClass:"required",style:0,transform:"input,select,textarea"},init:function(){this.initEvents();for(var t=0;t<this.el.length;++t){var e=this.el[t],i=this.extend({},this.defaults,this.options,e.getAttribute("data-options")),s=this.sprintf(":not($0)",i.exclude.split(/[\s,]+/).join("):not(")),r=e.querySelectorAll(i.transform.replace(/,/g,s+",")+s);e.addEventListener("reset",this.events.reset),this.config[t]=i,this.fields[t]=r,this.current=t,e.classList.add(this.prefixed("form")),i.style&&e.classList.add(this.prefixed("style-"+i.style));for(var t=0;t<r.length;++t)this.floatLabel(r[t],e)}},initEvents:function(){this.events={blur:this.onBlur.bind(this),focus:this.onFocus.bind(this),input:this.onChange.bind(this),reset:this.onReset.bind(this)}},floatLabel:function(t,e){if(t.getAttribute("id")&&("INPUT"!==t.tagName||this.config[this.current].inputRegex.test(t.getAttribute("type")))){if(this.hasParent(t)){if(e!==!0)return;this.reset(t)}this.build(t)}},build:function(t){var e=this.getLabel(t);e&&(e.classList.add(this.prefixed("label")),t.classList.add(this.prefixed(t.tagName.toLowerCase())),this.setLabel(e,t),this.wrapLabel(e,t),this.addEvents(t),"function"==typeof this.config[this.current].customEvent&&this.config[this.current].customEvent.call(this,t))},reset:function(t){var i=t.parentNode;if(this.hasParent(t)){for(var s=e.createDocumentFragment();i.firstElementChild;)this.removeClasses(i.firstElementChild),s.appendChild(i.firstElementChild);i.parentNode.replaceChild(s,i),this.removeEvents(t)}},removeClasses:function(t){var e=this.config[this.current].prefix,i=t.className.split(" ").filter(function(t){return 0!==t.lastIndexOf(e,0)});t.className=i.join(" ").trim()},getLabel:function(t){var e=this.sprintf('label[for="$0"]',t.getAttribute("id")),i=this.el[this.current].querySelectorAll(e);return i.length>1&&(i=t.parentNode.querySelectorAll(e)),1===i.length&&i[0]},setLabel:function(t,e){var s=t.textContent.replace(/[*:]/g,"").trim(),r=e.getAttribute("placeholder");if((!s||s&&r&&"placeholder"===this.config[this.current].prioritize)&&(s=r),"function"==typeof this.config[this.current].customLabel){var n=this.config[this.current].customLabel.call(this,t,e);n!==i&&(s=n)}t.text=s,"SELECT"===e.tagName?""!==e.firstElementChild.value?e.insertBefore(new Option(s,"",!0,!0),e.firstElementChild):""===e.firstElementChild.value&&""===e.options[0].text&&(e.firstElementChild.text=s):r&&"label"!==this.config[this.current].prioritize||e.setAttribute("placeholder",s)},wrapLabel:function(t,e){var i=this.createEl("div",{class:this.prefixed("wrap")+" "+this.prefixed("wrap-"+e.tagName.toLowerCase())});e.value.length&&i.classList.add(this.prefixed("is-active")),(null!==e.getAttribute("required")||e.classList.contains(this.config[this.current].requiredClass))&&i.classList.add(this.prefixed("is-required")),e.parentNode.insertBefore(i,e),i.appendChild(t),i.appendChild(e)},addEvents:function(t){t.addEventListener("blur",this.events.blur),t.addEventListener("input",this.events.input),t.addEventListener("focus",this.events.focus)},removeEvents:function(t){t.removeEventListener("blur",this.events.blur),t.removeEventListener("input",this.events.input),t.removeEventListener("focus",this.events.focus)},onBlur:function(t){t.target.parentNode.classList.remove(this.prefixed("has-focus"))},onChange:function(t){var e=t.target.value.length?"add":"remove";t.target.parentNode.classList[e](this.prefixed("is-active"))},onFocus:function(t){t.target.parentNode.classList.add(this.prefixed("has-focus"))},onReset:function(t){for(var e=this.fields[this.current],i=0;i<e.length;++i)e[i].parentNode.classList.remove(this.prefixed("is-active"))},hasParent:function(t){return t.parentNode.classList.contains(this.prefixed("wrap"))},extend:function(){var t=[].slice.call(arguments),e=t[0],i=t.slice(1);return Object.keys(i).forEach(function(t){for(var s in i[t])i[t].hasOwnProperty(s)&&(e[s]=i[t][s])}),e},isString:function(t){return"[object String]"===Object.prototype.toString.call(t)},createEl:function(t,i){var s="string"==typeof t?e.createElement(t):t;i=i||{};for(var r in i)i.hasOwnProperty(r)&&s.setAttribute(r,i[r]);return s},prefixed:function(t){return this.config[this.current].prefix+t},sprintf:function(t){var e=[].slice.call(arguments,1,arguments.length);return t.replace(/\$(\d+)/g,function(t,s){return e[s]!==i?e[s]:t})}},t.FloatLabels=s}(window,document);